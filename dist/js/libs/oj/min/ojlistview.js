/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","ojs/ojcomponentcore","ojs/ojdomscroller","ojs/ojanimation","promise"],function(a,g){a.Qd=function(a,b,d){this.ea=b;this.D=a;this.Bd=!1;this.nia(d);this.Init()};a.b.ta(a.Qd,a.b,"oj.DataSourceContentHandler");a.Qd.prototype.Init=function(){a.Qd.u.Init.call(this)};a.b.g("DataSourceContentHandler.prototype.Init",{Init:a.Qd.prototype.Init});a.Qd.prototype.jx=function(){};a.Qd.prototype.BA=function(){};a.Qd.prototype.Wg=function(){g(this.ea).empty();this.ea=this.D=null};a.Qd.prototype.lx=
function(){return!this.Bd};a.Qd.prototype.HZ=function(){this.Jp()?this.ea.setAttribute("role","tree"):this.ea.setAttribute("role","listbox")};a.Qd.prototype.h0=function(){this.Pb();this.fp(!1);this.HZ();this.Lb()};a.Qd.prototype.tg=function(a){return a.key};a.Qd.prototype.Ne=function(a){var b,d,e;b=g(this.ea).find("."+this.D.uh());for(d=0;d<b.length;d++)if(e=b[d],a==this.tg(e))return e;return null};a.Qd.prototype.Tea=function(){return this.Wa};a.Qd.prototype.nia=function(a){this.Wa=a};a.Qd.prototype.fp=
function(){this.D.MA()};a.Qd.prototype.aX=function(a,b,d,e,f){var h,k;h=document.createElement("li");g(h).uniqueId();k=g(a).children("."+this.D.uh()+", .oj-listview-no-data-message");a.insertBefore(h,b===k.length?null:k[b]);k=g(a).children().index(h);this.d3(h,k,a,b,d,e,f)};a.Qd.prototype.aJa=function(a,b,d,e,f){var h,k;this.Pb();g(a).empty();h=a.parentNode;k=g(h).children().index(a);this.d3(a,k,h,b,d,e,f)};a.Qd.prototype.d3=function(a,b,d,e,f,h,k){var l;void 0==k&&(k=this.iw.bind(this));e=this.tX(e,
f,h,a);h=this.D.tta();null!=h?(h=h.call(this,e),null!=h&&(null===h.parentNode||h.parentNode instanceof DocumentFragment?a.appendChild(h):null==h.parentNode&&h.toString&&(l=document.createElement("span"),l.appendChild(document.createTextNode(h.toString())),a.appendChild(l)))):(l=document.createElement("span"),l.appendChild(document.createTextNode(null==f?"":f.toString())),a.appendChild(l));a=d.children[b];e.parentElement=a;g.data(a,"data",f);k(a,e)};a.Qd.prototype.iw=function(a,b){var d;a.key=b.key;
a=g(a);a.uniqueId();d=this.D.jM(a);d.attr("role",this.Jp()?"treeitem":"option");d!=a&&a.attr("role","presentation");d.addClass(this.D.gp());this.lA(b)||a.addClass("oj-skipfocus");a.addClass(this.D.uh())};a.Qd.prototype.tX=function(a,b,d,e){var f,g;f={};f.parentElement=e;f.index=a;f.data=b;f.component=this.D.Kf();f.datasource=this.Wa;for(g in d)d.hasOwnProperty(g)&&(f[g]=d[g]);return f};a.Qd.prototype.lA=function(a){return this.D.UC("focusable",a,!0)};a.Qd.prototype.FM=function(a){return this.D.UC("selectable",
a,!0)};a.Qd.prototype.Pb=function(){this.D&&this.D.Pb()};a.Qd.prototype.Lb=function(){this.D&&this.D.Lb()};a.Yb=function(c,b,d){a.Yb.u.constructor.call(this,c,b,d)};a.b.ta(a.Yb,a.Qd,"oj.TableDataSourceContentHandler");a.Yb.prototype.Init=function(){a.Yb.u.Init.call(this)};a.Yb.prototype.Jp=function(){return!1};a.Yb.prototype.Wg=function(){a.Yb.u.Wg.call(this);this.cE();null!=this.qA&&(this.qA.destroy(),this.VY=this.qA=null);this.EF=null};a.Yb.prototype.jx=function(a,b){this.Mj()&&void 0!=this.Et&&
this.Et!=b&&(this.Et=b,this.checkViewport())};a.Yb.prototype.BA=function(){this.Mj()&&this.checkViewport()};a.Yb.prototype.Mj=function(){return"loadMoreOnScroll"==this.D.options.scrollPolicy?!0:!1};a.Yb.prototype.xo=function(){return Math.max(0,this.D.options.scrollPolicyOptions.fetchSize)};a.Yb.prototype.eT=function(){var c=this.D.options.scrollPolicyOptions.scroller;return null!=c&&g.contains(c,this.ea)?(this.ev=a.Rf.JEa(c,this.ea),c):this.D.Wk()};a.Yb.prototype.TS=function(){return this.D.options.scrollPolicyOptions.maxCount};
a.Yb.prototype.nia=function(c){var b;this.cE();if(null!=c){this.Mj()&&(b=this,this.VY=function(a){null!=a?(b.Pb(),b.yV(),b.lx()&&b.Pb(),b.NT(a),a.maxCountLimit?b.UT():b.v3(),b.Lb(),b.Lb()):void 0===a&&(b.yV(),b.Lb())},this.qA=new a.Rf(this.eT(),c,{fetchSize:this.xo(),fetchTrigger:this.ev,maxCount:this.TS(),success:this.VY,error:this.Lb}),this.qA.VT=function(c,e){1>=e-c&&b.Pb();a.Rf.prototype.VT.call(this,c,e)});this.Wga=this.mHa.bind(this);this.Vga=this.lHa.bind(this);this.Rga=this.hHa.bind(this);
this.Uga=this.jHa.bind(this);this.Sga=this.iHa.bind(this);this.WM=this.kHa.bind(this);if(a.Fa&&c instanceof a.Fa)c.on("sync",this.Wga);c.on("sort",this.Vga);c.on("add",this.Rga);c.on("remove",this.Uga);c.on("change",this.Sga);c.on("reset",this.WM);c.on("refresh",this.WM)}this.Wa=c};a.Yb.prototype.v3=function(){var a,b;null==this.EF&&(a=g(document.createElement("li")),a.uniqueId().attr("role","presentation").addClass(this.D.Xi()),b=g(document.createElement("div")),b.addClass("oj-listview-loading-icon"),
a.append(b),g(this.ea).append(a),this.EF=a)};a.Yb.prototype.yV=function(){null!=this.EF&&this.EF.remove();this.EF=null};a.Yb.prototype.iw=function(c,b){var d;a.Yb.u.iw.call(this,c,b);g(c).addClass(this.D.Xi());this.D.xc()&&this.FM(b)&&this.D.kg(g(c)).attr("aria-selected",!1);this.Mj()&&(d=Math.min(this.Wa.totalSize(),this.TS()),-1===d&&(d=this.TS()),0<d&&g(c).attr("aria-setsize",d).attr("aria-posinset",b.index+1));this.D.zw(c,b)};a.Yb.prototype.iEa=function(c,b){var d,e;this.Pb();this.iw(c,b);d=g(c);
d.outerHeight();e=this.D.Xi();d.children().wrapAll("\x3cdiv\x3e\x3c/div\x3e");d.removeClass(e).addClass("oj-listview-item-add-remove-transition");d.children().first().addClass(e);this.Pb();d=this.D.kt("add");var f=this;a.W.Mn(c,"add",d).then(function(){f.zua(b,c)});this.Lb()};a.Yb.prototype.UT=function(){a.r.error("max count reached")};a.Yb.prototype.cE=function(){null!=this.Wa&&(this.Wa.off("sync",this.Wga),this.Wa.off("sort",this.Vga),this.Wa.off("add",this.Rga),this.Wa.off("remove",this.Uga),this.Wa.off("change",
this.Sga),this.Wa.off("reset",this.WM),this.Wa.off("refresh",this.WM))};a.Yb.prototype.fp=function(c){var b=!0,d;this.Pb();if(this.lx()&&(this.Bd=!0,a.Yb.u.fp.call(this,c),a.Fa&&this.Wa instanceof a.Fa&&(b=!1,this.Pb()),b||c)){b&&this.Pb();c={fetchType:"init",startIndex:0};this.Mj()&&(c.pageSize=this.xo());d=this;c=this.Wa.fetch(c);c.then(function(a){null!=d.D&&b&&(g(d.ea).empty(),d.NT(a),d.Mj()&&null!=a&&a.keys&&0<a.keys.length&&d.v3())},function(a){d.oq(a);d.Lb()});this.Lb();return}this.Lb()};a.Yb.prototype.oq=
function(c){a.r.error(c);this.Mj()&&this.yV();this.D.Tt()};a.Yb.prototype.zs=function(a,b){var d,e,f;d=this.ea.childElementCount;for(e=0;e<a.length;e++)f=a[e],this.aX(this.ea,d,f,this.getMetadata(d,b[e],f)),d+=1};a.Yb.prototype.hHa=function(a){var b,d,e;if(null!=this.ea){this.Pb();b=a.data;d=a.keys;a=a.indexes;if(null!=b&&null!=d&&0<d.length&&0<b.length&&d.length==b.length&&null!=a&&d.length==a.length){for(e=0;e<b.length;e++)this.Pb(),this.aX(this.ea,a[e],b[e],this.getMetadata(a[e],d[e],b[e]),this.iEa.bind(this)),
this.Lb();this.lx()&&this.Pb();this.wea()}this.Lb()}};a.Yb.prototype.zua=function(a,b){g(b).removeClass("oj-listview-item-add-remove-transition").addClass(this.D.Xi()).children().children().unwrap();this.D.Ega(b,a);this.Lb()};a.Yb.prototype.jHa=function(a){var b,d;a=a.keys;if(null!=this.ea&&null!=a&&0!=a.length){this.Pb();for(b=0;b<a.length;b++)d=this.Ne(a[b]),null!=d&&(this.Pb(),this.GAa(d),this.Lb());this.D.cx();this.Lb()}};a.Yb.prototype.GAa=function(c){var b,d=this,e;this.Pb();b=this.D.Xi();c=
g(c);c.children().wrapAll("\x3cdiv class\x3d'"+b+"'\x3e\x3c/div\x3e");c.removeClass(b).addClass("oj-listview-item-add-remove-transition");this.Pb();b=this.D.kt("remove");e=c.get(0);a.W.Mn(e,"remove",b).then(function(){d.hwa(c)});this.Lb()};a.Yb.prototype.hwa=function(a){a=g(a);var b=a.parent();this.D.GY(a.get(0));a.remove();0==b.get(0).childElementCount&&this.D.Tt();this.Lb()};a.Yb.prototype.iHa=function(a){var b,d,e,f;b=a.keys;if(null!=this.ea&&null!=b&&0!=b.length){this.Pb();d=a.data;a=a.indexes;
for(e=0;e<b.length;e++)f=this.Ne(b[e]),null!=f&&(this.Pb(),this.aJa(f,a[e],d[e],this.getMetadata(a[e],b[e],d[e]),this.hEa.bind(this)),this.Lb());this.D.cx();this.Lb()}};a.Yb.prototype.hEa=function(c,b){var d=this,e;this.Pb();this.iw(c,b);e=this.D.kt("update");a.W.Mn(c,"update",e).then(function(){d.iwa(c)});this.Lb()};a.Yb.prototype.iwa=function(a){g(a).removeClass("oj-listview-item-add-remove-transition");this.D.iJa();this.Lb()};a.Yb.prototype.kHa=function(){null!=this.ea&&(this.Pb(),this.D.cx(),
this.fp(!0),this.Lb())};a.Yb.prototype.NT=function(a){var b;null!=this.ea&&(b=a.data,a=a.keys,Array.isArray(b)&&Array.isArray(a)&&b.length==a.length&&(this.zs(b,a),this.wea()))};a.Yb.prototype.mHa=function(a){null!=this.ea&&(this.Pb(),0===a.startIndex&&g(this.ea).empty(),this.D.cx(),this.NT(a),this.Lb())};a.Yb.prototype.lHa=function(){null!=this.ea&&(this.Pb(),this.D.cx(),this.D.cn()&&this.D.Ak(!0),this.fp(!0),this.Lb())};a.Yb.prototype.wea=function(){this.Bd=!1;this.D.Tt();this.checkViewport();this.Lb()};
a.Yb.prototype.checkViewport=function(){var a=this,b;this.Pb();null!=this.qA&&0<this.Wa.totalSize()&&this.lx()&&(b=this.qA.checkViewport(),null!=b&&(this.Pb(),b.then(function(b){a.VY(b);a.Lb()},null)));this.Lb()};a.Yb.prototype.getMetadata=function(a,b,d){d=d.context;null==d&&(d={});null==d.index&&(d.index=a);null==d.key&&(d.key=b);return d};a.Hi=function(c,b,d){a.Hi.u.constructor.call(this,c,b,d)};a.b.ta(a.Hi,a.Qd,"oj.TreeDataSourceContentHandler");a.Hi.prototype.Init=function(){a.Hi.u.Init.call(this)};
a.Hi.prototype.Jp=function(){return!0};a.Hi.prototype.fp=function(c){this.Pb();a.Hi.u.fp.call(this,c);this.li(0,null,this.ea,null);this.Lb()};a.Hi.prototype.li=function(a,b,d,e){this.Pb();this.Bd=!0;a={start:a,count:this.Wa.rh(b)};this.Wa.li(b,a,{success:function(a){this.zs(a,b,d,e)}.bind(this),error:function(a){this.oq(a)}.bind(this)});this.Lb()};a.Hi.prototype.zs=function(a,b,d,e){var f,g,k,l;this.Pb();b=a.getStart();f=a.getCount();for(g=0;g<f;g++)k=a.getData(b+g),l=a.getMetadata(b+g),this.aX(d,
b+g,k,l);this.Bd=!1;null!=e&&e.call(null,d);this.D.Tt();this.al=!0;this.Lb()};a.Hi.prototype.iw=function(c,b){var d,e,f,h,k,l;this.Pb();a.Hi.u.iw.call(this,c,b);d=this.D.oi();e=this.D.Xi();f=this.D.lg();h=this.D.rw();l=this.D.vn();k=this.D.gp();c=g(c);!1==b.leaf?(c.children().wrapAll("\x3cdiv\x3e\x3c/div\x3e"),c.hasClass(k)?c.removeClass(k).children().first().addClass(k).attr("aria-expanded","false"):c.children().first().attr("role","presentation").find("."+k).attr("aria-expanded","false"),e=c.children().first(),
e.uniqueId().addClass(f),this.D.kA()&&(c.addClass("oj-collapsed"),f=document.createElement("a"),g(f).attr("href","#").attr("aria-labelledby",e.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(l),e.prepend(f)),l=document.createElement("ul"),g(l).addClass(d).addClass(h).attr("role","group"),c.append(l)):!0==b.leaf&&c.addClass(e);this.D.xc()&&this.FM(b)&&this.D.kg(c).attr("aria-selected",!1);this.D.zw(c[0],b);this.Lb()};a.Hi.prototype.oq=function(c){this.Pb();a.r.error(c);
this.D.Tt();this.Lb()};a.Hi.prototype.hx=function(a,b){var d,e;this.Pb();d=this.tg(a[0]);e=a.children("ul")[0];this.li(0,d,e,b);this.Lb()};a.Hi.prototype.dx=function(a){a.empty()};a.pe=function(a,b){this.D=a;this.ea=b};a.b.ta(a.pe,a.b,"oj.StaticContentHandler");a.pe.prototype.Init=function(){a.pe.u.Init.call(this)};a.pe.prototype.Wg=function(){this.fia(this.ea,0);this.XJa()};a.pe.prototype.lx=function(){return!0};a.pe.prototype.jx=function(){};a.pe.prototype.BA=function(){};a.pe.prototype.h0=function(){this.nha(this.ea,
0);this.HZ();this.D.Tt()};a.pe.prototype.hx=function(a,b){var d;d="."+this.D.oi();d=g(a).children(d)[0];g(d).css("display","block");b.call(null,d)};a.pe.prototype.dx=function(){};a.pe.prototype.Jp=function(){null==this.$Y&&(this.$Y=0<g(this.ea).children("li").children("ul").length);return this.$Y};a.pe.prototype.fia=function(a,b){var d,e,f,h,k,l,m,s,t,r;d=this.D.oi();e=this.D.rw();f=this.D.Wz();h=this.D.lg();k=this.D.Xi();l=this.D.uh();m=a.children;for(s=0;s<m.length;s++)t=m[s],this.WJa(t),t=g(t),
t.removeClass(l).removeClass(k).removeClass(this.D.VX(b)).removeClass("oj-skipfocus").removeClass("oj-focus").removeClass("oj-hover").removeClass("oj-expanded").removeClass("oj-collapsed").removeClass("oj-selected"),r=t.children("ul"),0<r.length&&(t.children("."+h).children().unwrap(),t.children(".oj-component-icon").remove(),t=g(r[0]),t.removeClass(d).removeClass(f).removeClass(e).removeAttr("role"),this.fia(t[0],b+1))};a.pe.prototype.nha=function(a,b){var d,e,f,h,k,l,m,s,t,r,n,p,q,u,w;d=this.D.Xi();
e=this.D.uh();f=this.D.oi();h=this.D.lg();k=this.D.rw();l=this.D.vn();m=this.D.gp();s=a.children;t=this.D.kA();for(r=0;r<s.length;r++)n=g(s[r]),p=this.tX(n),this.qJa(n),n.uniqueId().addClass(e),0<b&&n.addClass(this.D.VX(b)),this.lA(p)||n.addClass("oj-skipfocus"),q=n.children("ul"),0<q.length?(this.$Y=!0,n.children(":not(ul)").wrapAll("\x3cdiv\x3e\x3c/div\x3e"),u=n.children().first(),u.addClass(h),this.BHa(q[0])&&(n.hasClass(m)?(n.removeClass(m),u.addClass(m).attr("aria-expanded","false")):(u.attr("role",
"presentation"),u.find("."+m).attr("aria-expanded","false")),t&&(n.addClass("oj-collapsed"),u.uniqueId(),w=document.createElement("a"),g(w).attr("href","#").attr("role","button").attr("aria-labelledby",u.get(0).id).addClass("oj-component-icon oj-clickable-icon-nocontext").addClass(l),u.prepend(w))),q=g(q[0]),q.addClass(f).addClass(k).attr("role","group").css("display","none"),this.nha(q[0],b+1)):n.addClass(d),this.D.xc()&&this.FM(p)&&this.D.kg(n).attr("aria-selected",!1),this.D.zw(n[0],p)};a.pe.prototype.HZ=
function(){this.Jp()?this.ea.setAttribute("role","tree"):this.ea.setAttribute("role","listbox")};a.pe.prototype.XJa=function(){this.ea.removeAttribute("role")};a.pe.prototype.BHa=function(a){return 0<g(a).children("li").length};a.pe.prototype.tX=function(a){var b;b={};b.key=a.attr("id");b.parentElement=a.children().first()[0];b.index=a.index();b.data=a[0];b.component=this.D.Kf();this.Jp()&&(b.leaf=0==a.children("ul").length,a=a.parents("li."+this.D.uh()),b.depth=a.length,b.parentKey=0==a.length?null:
a.first().attr("id"));return b};a.pe.prototype.qJa=function(a){var b=this.D.jM(a);b.attr("role",this.Jp()?"treeitem":"option");b!=a&&a.attr("role","presentation");b.addClass(this.D.gp())};a.pe.prototype.WJa=function(a){a=this.D.jM(g(a));a.removeAttr("role");a.removeAttr("aria-selected");a.removeAttr("aria-expanded");a.removeClass(this.D.gp())};a.pe.prototype.tg=function(a){return g(a).attr("id")};a.pe.prototype.Ne=function(a){return document.getElementById(a)};a.pe.prototype.lA=function(a){return this.D.UC("focusable",
a,!0)};a.pe.prototype.FM=function(a){return this.D.UC("selectable",a,!0)};a.$U=function(c,b){function d(){}a.b.ta(d,c,"");d.prototype=g.extend(d.prototype,b);return d}(Object,{vg:37,eh:39,fl:40,ol:38,OO:9,bO:13,dO:27,eO:113,GO:32,Dm:0,Cm:1,j0:2,eKa:0,ju:1,Wq:function(c){var b=this,d;this.St=[];this.Pb();this.Y=c.Y;this.element=c.element;this.oe=c.oe;this.options=c;this.element.uniqueId().addClass(this.lO()+" oj-component-initnode");this.s0();"undefined"!=typeof a.ib&&(this.yh=d=new a.ib(this),this.Y._on(this.element,
{dragstart:function(a){return d.IT(a)},dragenter:function(a){return d.FT(a)},dragover:function(a){return d.HT(a)},dragleave:function(a){return d.GT(a)},dragend:function(a){return d.ET(a)},drag:function(a){return d.Wua(a)},drop:function(a){return d.JT(a)}}));this.Y._on(this.element,{click:function(a){b.qO(a)},touchstart:function(a){b.tG(a)},touchend:function(a){b.aB(a)},touchcancel:function(a){b.aB(a)},mousedown:function(a){0!==a.button||b.WD()||b.tG(a)},mouseup:function(a){b.B8(a);b.fZ=!1},mouseout:function(a){b.z8(a)},
mouseover:function(a){b.Zva(a)},keydown:function(a){b.sG(a)},focus:function(a){b.pO(a)},blur:function(a){b.oO(a)},ojpanmove:function(a){b.B8(a)}});a.Za.Uz().browser===a.Za.sm.x_&&this.Y._on(this.Ve(),{focus:function(){b.element.focus()}});this.ju===this.ju?this.Y._on(this.element,{focusin:function(a){b.pO(a)},focusout:function(a){b.Pja(a)}}):this.Y._on(this.element,{focus:function(a){b.pO(a)},blur:function(a){b.oO(a)}});this.Y.document.bind("touchend.ojlistview touchcancel.ojlistview",this.aB.bind(this));
this.Haa();this.Y._focusable({applyHighlight:b.t0(),recentPointer:b.g0(),setupHandlers:function(a,c){b.vy=a;b.fv=c}})},Fz:function(){var a;this.Toa();this.Vr();this.f9();a=this.Ve();this.jn(a[0]);this.Lb()},refresh:function(){this.cba();this.Pb();this.mB();this.Vr();this.f9();this.Haa();this.Lb()},whenReady:function(){return this.Pha},destroy:function(){this.element.removeClass(this.lO()+" oj-component-initnode");this.Uo(this.Ve());this.cba();a.A.unwrap(this.element,this.Ve());this.Y.document.off(".ojlistview")},
cba:function(){var a=this;this.QO();this.rpa(this.element);null!=this.rf&&(this.rf.Wg(),delete this.rf,this.rf=null);this.N=null;this.St=[];this.Pha=new Promise(function(b){a.Qha=b});this.cx()},wha:function(){this.Ve().removeClass("oj-focus-ancestor");null!=this.N&&g(this.N.elem).removeClass("oj-focus oj-focus-highlight");null!=this.aZ&&this.Bq(this.aZ,"oj-hover")},BA:function(){null!=this.rf&&this.rf.BA()},getNodeBySubId:function(a){var b;if(null==a)return this.element?this.element[0]:null;b=a.subId;
if("oj-listview-disclosure"===b||"oj-listview-icon"===b)if(a=a.key,a=this.Ne(a),null!=a&&a.firstElementChild&&(a=a.firstElementChild.firstElementChild,null!=a&&(g(a).hasClass(this.Pq())||g(a).hasClass(this.vn()))))return a;return null},getSubIdByNode:function(a){if(null!=a&&g(a).hasClass(this.Pq())||g(a).hasClass(this.vn()))if(a=this.ym(a),null!=a&&0<a.length&&(a=this.tg(a[0]),null!=a))return{subId:"oj-listview-disclosure",key:a};return null},getContextByNode:function(a){var b,d,e;a=this.ym(a);return null!=
a&&0<a.length&&(b=this.tg(a[0]),null!=b)?(d=a.parent(),e=d.children("li").index(a),b={subId:"oj-listview-item",key:b,index:e},d.get(0)!=this.element.get(0)&&(b.parent=d.parent().get(0)),a.children().first().hasClass(this.lg())?b.group=!0:b.group=!1,b):null},getDataForVisibleItem:function(a){var b;b=a.index;a=a.parent;a=null==a?this.element.get(0):g(a).children("ul."+this.oi()).first();b=g(a).children("li").get(b);return null!=b&&g(b).hasClass(this.Xi())?this.L6(b):null},L6:function(a){return null==
this.me("data")?a:g.data(a,"data")},Vr:function(a){null!=this.yh&&this.yh.eEa(a)},Uo:function(c){c&&this.Ig&&a.A.nm(c,this.Ig)},jn:function(c){c&&(null==this.Ig&&(this.Ig=this.Gg.bind(this)),a.A.Ok(c,this.Ig))},Gg:function(a,b){0<a&&0<b&&null!=this.rf&&this.rf.jx(a,b)},t0:function(){return!1},g0:function(){return function(){return!1}},u0:function(a){return null!=a.data||null!=a.drillMode||null!=a.groupHeaderPosition||null!=a.item||null!=a.scrollPolicy||null!=a.scrollPolicyOptions},Uw:function(a){var b,
d;if(this.u0(a))return null!=a.data&&(null==a.currentItem&&this.mk("currentItem",null),null==a.selection&&this.Ak(!0)),!0;if(null!=a.expanded&&this.rf.Jp()&&(d=a.expanded,Array.isArray(d))){this.Pb();this.Kpa();this.X8=!0;try{b=this,g.each(d,function(a,c){b.DX(c,!0,!0,!0)})}finally{this.X8=void 0,this.Lb()}}null!=a.currentItem?(d=this.Ne(a.currentItem),null!=d&&(d=g(d),this.ok(d)||this.Ur(d,null))):null===a.currentItem&&(this.CG(),this.N=null,this.s0());this.rO(a);null!=a.selectionMode&&(this.Ak(!0),
this.mB());null!=a.contextMenu&&this.Vr(a.contextMenu);return!1},rO:function(a){var b,d;if(null!=a.selection&&this.xc())for(a.selection=this.lsa(a.selection),b=a.selection,this.Ak(!1),d=0;d<b.length;d++)a=this.Ne(b[d]),null!=a&&this.$B(a,b[d])},pk:function(a,b,d){return this.Y._trigger(a,b,d)},mk:function(a,b,d){this.Y.option(a,b,d)},me:function(a){return this.Y.option(a)},Pb:function(){var a=this;this.St&&(0==this.St.length&&(this.Pha=new Promise(function(b){a.Qha=b})),this.St.push(1))},Lb:function(){this.St&&
0<this.St.length&&(this.St.pop(),0==this.St.length&&this.Qha(null))},fGa:function(a){var b,d=this,e=[];g.each(a,function(a,c){b=d.Ne(c);null!=b&&e.push(b)});return e},f9:function(){var c;this.Pb();c=this.me("data");if(null!=c){if("undefined"===typeof a.aa||"undefined"===typeof a.uu)throw"oj.TableDataSource or oj.TreeDataSource not found. Ensure the required modules are imported";if(c instanceof a.aa)this.rf=new a.Yb(this,this.element[0],c);else if(c instanceof a.uu)this.rf=new a.Hi(this,this.element[0],
c);else throw"Invalid data";}else this.rf=new a.pe(this,this.element[0]);this.MA();this.rf.h0();this.Lb()},xka:function(a){this.element.attr("aria-activedescendant",a.attr("id"))},mB:function(){this.element.attr("aria-activedescendant","");this.cn()?this.element.attr("aria-multiselectable",!0):this.xc()&&this.element.attr("aria-multiselectable",!1)},QO:function(){this.element.removeAttr("aria-activedescendant").removeAttr("aria-multiselectable")},Toa:function(){var a,b;a=this.Ve();this.mB();b=this.Woa();
a.append(b);this.hm=b;b=this.Noa();a.append(b);this.mA=b;this.Ll()&&null!=this.yh&&a.append(this.Ooa())},Woa:function(){var a=g(document.createElement("div"));a.addClass("oj-listview-status-message oj-listview-status").attr({id:this.$u("status"),role:"status"});return a},Noa:function(){var a=g(document.createElement("div"));a.addClass("oj-helper-hidden-accessible").attr({id:this.$u("info"),role:"status"});return a},Ooa:function(){var a=g(document.createElement("div"));a.addClass("oj-helper-hidden-accessible").attr({id:this.$u("instr")});
a.text(this.Y.F("accessibleReorderTouchInstructionText"));return a},Jg:function(a){""!=a&&this.mA.text()!=a&&this.mA.text(a)},MA:function(){var a=this.Y.F("msgFetchingData");this.hm.text(a).css("left",this.element.outerWidth()/2-this.hm.outerWidth()/2).show()},Vq:function(){this.hm.hide()},Wk:function(){return this.Ve()},Ve:function(){null==this.tF&&(this.tF=this.tqa());return this.tF},tqa:function(){var a;this.oe?a=g(this.oe):(a=g(document.createElement("div")),this.element.parent()[0].replaceChild(a[0],
this.element[0]));a.addClass(this.C_()).addClass("oj-component");a.prepend(this.element);return a},ita:function(){return this.Y.F("msgNoData")},PH:function(){var a,b;a=this.ita();b=document.createElement("li");b.id=this.$u("empty");b.className="oj-listview-no-data-message oj-listview-empty-text";b.textContent=a;return b},$g:function(a){a=this.kg(a).attr("aria-expanded");return"true"==a?this.Dm:"false"==a?this.Cm:this.j0},tu:function(a,b){var d=this.kA();b==this.Dm?(this.kg(a).attr("aria-expanded",
"true"),d&&a.removeClass("oj-collapsed").addClass("oj-expanded")):b==this.Cm&&(this.kg(a).attr("aria-expanded","false"),d&&a.removeClass("oj-expanded").addClass("oj-collapsed"))},UC:function(a,b,d){a=this.options.item[a];return"function"==typeof a&&d?a.call(this,b):a},tta:function(){var a=this.UC("renderer",null,!1);return"function"!=typeof a?null:a},Ega:function(){},GY:function(a){var b;null!=this.N&&this.N.elem&&g(this.N.elem).get(0)==a&&this.mk("currentItem",null);if(null!=a&&a.id&&null!=this.wp)for(b in this.wp)if(this.wp.hasOwnProperty(b)&&
this.wp[b]===a.id){delete this.wp[b];break}},zw:function(a,b){var d,e,f,h;null!=this.yh&&this.yh.zw(a);this.QR(a);if(this.xc())if(d=this.me("selection"),this.hk(a))for(f=0;f<d.length;f++){if(d[f]==b.key&&(this.$B(a,d[f]),!this.cn())){1<d.length&&(e=g(this.Ne(b.key)),this.mk("selection",[b.key],{_context:{originalEvent:null,pb:!0,Qk:{items:e}},changed:!0}));break}}else if(f=d.indexOf(b.key),-1<f){d=d.slice(0);d.splice(f,1);e=Array(d.length);for(f=0;f<d.length;f++)e[f]=this.Ne(d[f]);this.mk("selection",
d,{_context:{originalEvent:null,pb:!0,Qk:{items:g(e)}},changed:!0})}this.rf.Jp()&&void 0==this.X8&&this.$g(g(a))==this.Cm&&(f=this.me("expanded"),this.Ry()?this.iu(g(a),null,!1,null,!1,!1,!1):Array.isArray(f)&&(h=this,g.each(f,function(d,e){e==b.key&&h.iu(g(a),null,!1,null,!1,!1,!1)})));null!=this.N&&b.key==this.N.key&&null!=this.N.elem&&a!=this.N.elem.get(0)&&(this.N.elem=g(a))},Tt:function(){var a;this.Vq();g(document.getElementById(this.$u("empty"))).remove();0==this.element[0].childElementCount?
(a=this.PH(),this.element.append(a)):(this.uA=null,a=this.me("currentItem"),null!=a&&(a=this.Ne(a),null==a?this.mk("currentItem",null):null!=this.N||this.ok(g(a))||this.Ur(g(a),null)),this.Ve().hasClass("oj-focus-ancestor")&&null==this.N&&this.k9());this.pk("ready",null,{})},iJa:function(){var a=this.me("currentItem");null!=a&&(a=this.Ne(a),null==a||this.ok(g(a))||this.Ur(g(a),null))},cx:function(){this.ZY=this.uA=null},vha:function(a,b,d){var e;if(this.uG(g(b.target)))return!1;e=g(b.target).closest("."+
this.uh());0<e.length&&!this.ok(g(e[0]))&&this.Ur(g(e[0]),null);e=this.element;null!=this.N&&(e=this.N.elem);e={launcher:e,initialFocus:"menu"};"keyboard"===d&&(e.position={my:"start top",at:"start bottom",of:this.N.elem});null!=this.yh&&this.yh.Nua(g(a.element),b);this.Y.kh(b,d,e)},K_:function(a){return null!=a.prop("nodeName").match(/^INPUT|SELECT|OPTION|BUTTON|^A\b|TEXTAREA/)},uG:function(a){for(;null!=a&&a[0]!=this.element[0]&&"LI"!=a.prop("nodeName");){if(3!=a[0].nodeType){var b=a.attr("tabIndex"),
d=a.attr("data-oj-tabindex");if(null!=b&&0<=b&&!a.hasClass(this.gp())||this.K_(a)&&(-1!=b||-1!=d))return!0}a=a.parent()}return!1},QR:function(a){var b;a=g(a);a.hasClass(this.Xi())||(a=g(a.get(0).firstElementChild));a.find("a, input, select, textarea, button, object, .oj-component-initnode").each(function(){g(this).removeAttr("data-first").removeAttr("data-last");b=parseInt(g(this).attr("tabIndex"),10);(isNaN(b)||0<=b)&&g(this).attr("tabIndex",-1).attr("data-tabmod",isNaN(b)?-1:b)})},Rra:function(a){var b;
a=g(a).find("[data-tabmod]").each(function(){b=parseInt(g(this).attr("data-tabmod"),10);g(this).removeAttr("data-tabmod");-1==b?g(this).removeAttr("tabIndex"):g(this).attr("tabIndex",b)});a.first().attr("data-first","true");a.last().attr("data-last","true")},rpa:function(a){g(a).find("[data-tabmod]").removeAttr("tabIndex").removeAttr("data-tabmod").removeAttr("data-first").removeAttr("data-last")},ok:function(a){return a.hasClass("oj-skipfocus")},pO:function(a){this.Ve().addClass("oj-focus-ancestor");
null==this.N?this.fZ||this.k9(a):this.fZ||this.bB()},k9:function(a){var b,d,e;if(!this.Ll())for(b=this.VC(),d=0;d<b.length;d++)if(e=g(b[d]),!this.ok(e)){this.Ur(e,a);break}},Pja:function(a){this.oO(a)},oO:function(a){null!=a.relatedTarget&&g.contains(this.element.get(0),a.relatedTarget)||(this.Ve().removeClass("oj-focus-ancestor"),this.CG())},z8:function(a){a=this.ym(a.target);null!=a&&(this.aZ=null,this.Bq(a,"oj-hover"))},Zva:function(a){this.WD()||(a=this.ym(a.target),null==a||this.ok(a)||(this.aZ=
a,this.HJ(a,"oj-hover")))},WD:function(){return 500>Date.now()-this.LU},sG:function(a){var b,d;if(this.kA()&&(b=a.keyCode,b===this.vg||b===this.eh))if(d=this.N.elem,b===this.vg){if(this.$g(d)==this.Dm){this.Ar(d,a,!0,this.N.key,!0,!0);return}}else if(this.$g(d)==this.Cm){this.iu(d,a,!0,this.N.key,!0,!0,!0);return}b=this.I_(a);null!=this.yh&&(b=b||this.yh.sG(a));!0===b&&a.preventDefault()},B8:function(a){this.vA&&this.Bq(this.vA,"oj-focus");null!=this.yh&&this.yh.fda(g(a.target))},tG:function(a){var b,
d;this.fZ=!0;d=g(a.target);null!=this.yh&&this.yh.Mba(d);b=this.bg(d);null==b||0==b.length||this.ok(b)||d.hasClass("oj-listview-drag-handle")||(this.Ve().hasClass("oj-focus-ancestor")||this.Ve().addClass("oj-focus-ancestor"),this.vA=b,this.HJ(b,"oj-focus"),a.originalEvent.touches&&0<a.originalEvent.touches.length&&(this.iN={x:a.originalEvent.changedTouches[0].pageX,y:a.originalEvent.changedTouches[0].pageY}))},aB:function(c){var b,d;null!=this.vA&&(this.Bq(this.vA,"oj-focus"),null!=this.iN&&(b=this.vA.offset(),
d=this.kt("pointerUp"),d.offsetX=this.iN.x-b.left+"px",d.offsetY=this.iN.y-b.top+"px",b=this.vA.get(0),a.W.Mn(b,"pointerUp",d),this.iN=null));this.LU=Date.now();this.z8(c)},qO:function(a){var b,d,e,f;0===a.button&&(b=this.vn(),d=this.Pq(),e=this.lg(),f=g(a.target),f.hasClass(d)?(this.po(a),a.preventDefault()):f.hasClass(b)?(this.ag(a),a.preventDefault()):(this.y9()&&null!=this.N&&(this.OV(!1),this.QR(this.N.elem)),b=this.bg(f),null==b||0==b.length||this.ok(b)||(this.Ve().hasClass("oj-focus-ancestor")||
this.Ve().addClass("oj-focus-ancestor"),this.xc()&&this.hk(b[0])?this.Ll()?this.ywa(b,a):this.Oja(b,a):this.rG(b,a),this.kA()&&f.closest("."+e)&&(this.$g(b)==this.Cm?this.ag(a):this.$g(b)==this.Dm&&this.po(a)))))},Ll:function(){return a.A.Ke()},ER:function(c){return a.A.Yq(c)},$u:function(a){return[this.element.attr("id"),a].join(":")},ym:function(a){return g(a).closest("."+this.uh())},Bxa:function(a){return a.hasClass("oj-clickthrough-disabled")||a.hasClass("oj-component-initnode")||a.hasClass("oj-component")},
bg:function(a){for(;0<a.length&&!this.Bxa(a);){if(a.hasClass(this.uh()))return a;a=a.parent()}return null},zta:function(){null==this.Nga&&(this.Nga=parseInt(this.Ve().css("border-top-width"),10)+parseInt(this.Ve().css("border-bottom-width"),10));return this.Nga},yba:function(a){var b,d,e,f,h,k,l=0;b=a.offsetTop;d=a.offsetHeight;a=this.Ve()[0];e=a.scrollTop;f=a.offsetHeight;null!=this.Rg&&(h=parseInt(this.Rg.style.top,10),k=g(this.Rg).outerHeight(),b<=h&&h<b+d?l=(d+b-h)/2:b>=h&&b<h+k&&(l=(h+k-b)/2));
b>=e&&b+d<=e+f?0<l&&(a.scrollTop=e-l):(b=Math.max(0,Math.min(b-l,Math.abs(b+d-f))),b>e&&(b+=this.zta()),a.scrollTop=b)},tg:function(a){return this.rf.tg(a)},Ne:function(a){var b;return null!=this.wp&&(b=this.wp[a],null!=b)?document.getElementById(b):this.rf.Ne(a)},kx:function(a){return a==this.ol||a==this.fl},VC:function(){var a,b,d;null==this.uA&&(a=this.rw(),b="."+this.uh()+":visible",this.uA=this.element.find(b).filter(function(){return(d=g(this).parent().hasClass(a))?!g(this).parent().parent().hasClass("oj-collapsed"):
!0}));return this.uA},nu:function(a,b,d){var e,f,h;if(!this.rf.lx())return!0;e=!b||this.YM?this.N.elem:this.ae;f=!1;h=this.VC();e=h.index(e);switch(a){case this.ol:e--;if(0<=e){for(a=g(h[e]);this.ok(a);){e--;if(0>e)return!1;a=g(h[e])}b?(this.eS(a,d),this.YM=!1):(this.Ur(a,d),this.YM=!0)}f=!0;break;case this.fl:e++;if(e<h.length){for(a=g(h[e]);this.ok(a);){e++;if(e==h.length)return!1;a=g(h[e])}b?(this.eS(a,d),this.YM=!1):(this.Ur(a,d),this.YM=!0)}f=!0}return f},y9:function(){return"actionable"==this.jIa},
OV:function(a){this.jIa=a?"actionable":"navigation";a||this.element[0].focus()},fKa:function(){return this.ju},kg:function(a){return a.hasClass(this.gp())?a:g(a.find("."+this.gp()).first())},s0:function(){this.element.attr("tabIndex",0)},kka:function(){this.element.removeAttr("tabIndex")},cca:function(a){this.kg(a).attr("tabIndex",0)},cBa:function(a){var b;b=!0;"presentation"===a.attr("role")&&(b=!1);a=this.kg(a);b?a.removeAttr("tabIndex"):a.attr("tabIndex",-1)},q6:function(a,b){this.ju===this.ju?
(null!=a&&this.cBa(a),this.cca(b),this.kka()):this.xka(b)},jM:function(a){var b;b=a.children("a, input, select, textarea, button");return 1===b.length&&0===b.first().find("a, input, select, textarea, button").length?b.first():a},Nc:function(a,b){var d,e,f;null!=a?(d=a[0],d=this.tg(d),null==this.N||d!=this.N.key?(e={key:d,item:a},null!=this.N&&(e.previousKey=this.N.key,e.previousItem=this.N.elem,null!=this.yh&&this.Ll()&&this.yh.fda(e.previousItem)),f=!this.pk("beforeCurrentItem",b,e),f||(this.N=f=
{key:d,elem:a},null!=this.yh&&this.Ll()&&this.yh.Mba(a),this.q6(e.previousItem,a),this.mk("currentItem",d,{_context:{originalEvent:b,pb:!0,Qk:{item:a}},changed:!0}))):d==this.N.key&&(this.N=f={key:d,elem:a},this.q6(null,a))):this.N=null},bB:function(a){var b,d;null!=this.N&&this.Ve().hasClass("oj-focus-ancestor")&&(a=a||!1,b=this.N.elem,this.HJ(b,"oj-focus"),this.ju===this.ju&&(b=this.kg(b),d=document.activeElement,!a&&b.get(0).contains(d)||b.get(0).focus()))},CG:function(){null!=this.N&&this.Bq(this.N.elem,
"oj-focus")},rG:function(a,b){this.Ur(a,b)},Ur:function(a,b){this.yba(a[0]);this.CG();this.Nc(a,b);this.bB()},xc:function(){return"none"!=this.me("selectionMode")},cn:function(){return"multiple"==this.me("selectionMode")},hk:function(a){a=this.kg(g(a)).get(0);return a.hasAttribute("aria-selected")},lsa:function(a){var b,d,e;b=[];for(d=0;d<a.length&&(e=this.Ne(a[d]),null==e||!this.hk(e)||(b.push(a[d]),this.cn()));d++);return b},zDa:function(){var a,b;null!=this.wp&&(a=this,g.each(this.me("selection"),
function(d,e){b=a.Ne(e);null!=b&&a.Bq(b,"oj-selected")}))},HJ:function(a,b){this.cB(a,b,!0)},Bq:function(a,b){this.cB(a,b,!1)},cB:function(a,b,d){var e;a=g(a);"oj-selected"==b&&this.kg(a).attr("aria-selected",d?"true":"false");e=a.children("."+this.lg());0<e.length&&(a=g(e[0]));"oj-focus"===b?d?this.vy(a):this.fv(a):d?a.addClass(b):a.removeClass(b)},Oja:function(a,b){var d,e;this.yba(a[0]);d=this.ER(b);e=b.shiftKey;this.cn()?d||e?!d&&e?this.eS(a,b):this.AQ(a,b):this.lB(a,b):this.lB(a,b)},ywa:function(a,
b){this.cn()?this.AQ(a,b):this.lB(a,b)},Ak:function(a){this.zDa();a&&this.mk("selection",[],{_context:{originalEvent:null,pb:!0,Qk:{items:g()}},changed:!0});this.ae=null},lB:function(a,b){this.Ak(!1);this.AQ(a,b,[])},eS:function(a,b){var d;null!=this.N&&(d=this.ae,d!=a&&(this.Bq(a,"oj-focus"),this.U5(this.N.elem,a,b)))},U5:function(a,b,d){this.Ak(!1);this.ae=b;this.Nwa(a,b,d);this.bB()},Nwa:function(a,b,d){var e,f,h,k,l;e=[];f=[];h=this.VC();a=h.index(a);k=h.index(b);a>k?b=k:(b=a,a=k);for(;b<=a;b++)k=
h[b],this.hk(k)&&(l=this.rf.tg(k),this.$B(k,l),e.push(l),f.push(k));this.mk("selection",e,{_context:{originalEvent:d,pb:!0,Qk:{items:g(f)}},changed:!0})},$B:function(a,b){null==this.wp&&(this.wp={});this.wp[b]=g(a).attr("id");this.HJ(a,"oj-selected")},AQ:function(a,b,d){var e,f;e=this.tg(a[0]);void 0==d&&(d=this.me("selection").slice(0));this.CG();this.Nc(a,b);this.bB();if(null==this.N||this.N.elem.get(0)!=a.get(0))null!=d&&0==d.length&&this.mk("selection",d,{_context:{originalEvent:b,pb:!0,Qk:{items:g([])}},
changed:!0});else{f=d.indexOf(e);-1<f?(this.Bq(a,"oj-selected"),d.splice(f,1)):(this.ae=a,this.$B(a,e),d.push(e));a=Array(d.length);for(e=0;e<d.length;e++)a[e]=this.Ne(d[e]);this.mk("selection",d,{_context:{originalEvent:b,pb:!0,Qk:{items:g(a)}},changed:!0})}},BG:function(a,b,d){var e,f,h,k;e=this.me("selection").slice(0);f=this.N.elem;h=this.N.key;k=e.indexOf(h);if(-1<k){if(d)return;this.Bq(f,"oj-selected");e.splice(k,1);0==e.length&&(this.ae=null)}else this.hk(f[0])&&(b||(this.Ak(!1),e.length=0),
this.ae=f,this.$B(f,h),e.push(h));b=Array(e.length);for(d=0;d<e.length;d++)b[d]=this.Ne(e[d]);this.mk("selection",e,{_context:{originalEvent:a,pb:!0,Qk:{items:g(b)}},changed:!0})},I_:function(a){var b,d,e,f=!1;if(null==this.N)return!1;b=a.keyCode;d=this.N.elem;this.y9()?b==this.dO?(this.OV(!1),this.QR(d),this.bB(!0),this.cca(d),f=!0):b===this.OO&&(b=d.find("[data-first]"),d=d.find("[data-last]"),a.shiftKey?0<b.length&&0<d.length&&b!=d&&a.target==b[0]&&(d[0].focus(),f=!0):0<b.length&&0<d.length&&b!=
d&&a.target==d[0]&&(b[0].focus(),f=!0)):b==this.eO?(this.Rra(d),b=d.find("[data-first]"),0<b.length&&(b[0].focus(),this.OV(!0))):b==this.GO&&this.xc()?(d=this.ER(a),(e=a.shiftKey)&&!d&&null!=this.ae&&this.cn()?this.U5(this.ae,this.N.elem,a):this.BG(a,d&&!e&&this.cn(),!1),f=!0):b==this.bO&&this.xc()?this.BG(a,!1,!0):this.kx(b)&&(d=this.ER(a),e=a.shiftKey,d||(f=this.nu(b,e&&this.xc()&&this.cn(),a)));return f},kt:function(c){var b;null==this.oea&&(b=a.td.Of("oj-listview-option-defaults"),this.oea=b.animation);
return this.oea[c]},kA:function(){return"none"!=this.me("drillMode")},Ry:function(){var a=this.me("expanded");if("auto"===a){if(!this.kA())return!0}else if("all"===a)return!0;return!1},DX:function(a,b,d,e){var f=this.Ne(a);null!=f&&this.iu(g(f),null,!1,a,b,e,d)},ag:function(a){var b=this.ym(a.target);null!=b&&0<b.length&&this.iu(b,a,!0,null,!0,!0,!0)},iu:function(a,b,d,e,f,g,k){var l;if(this.$g(a)==this.Cm){null==e&&(e=this.tg(a[0]));l={item:a,key:e};if(k&&(e=!this.pk("beforeExpand",b,l))&&f)return;
this.Pb();this.rf.hx(a,function(a){this.asa(a,d,b,l,g)}.bind(this));this.uA=null;null!=b&&b.stopPropagation();this.Lb()}},asa:function(a,b,d,e,f){var h,k,l=this;this.Pb();b=this.VN(g(a),b,d);a=a.parentNode;a=g(a);this.tu(a,this.Dm);h=this.vn();k=this.Pq();a.children("."+this.lg()).find("."+h).removeClass(h).addClass(k);f&&b.then(function(){l.pk("expand",d,e)});this.Lb()},m3:function(a,b){var d;a.parentsUntil("ul.oj-component-initnode","ul."+this.oi()).each(function(){d=parseInt(g(this).css("maxHeight"),
10);0<d&&g(this).css("maxHeight",d+b+"px")})},VN:function(c,b){var d=0,e,f,h=this,k,l;e=new Promise(function(a){f=a});b?(this.Pb(),c.children().each(function(){d+=g(this).outerHeight(!0)}),this.Ll()&&this.m3(c,d),c.css("maxHeight",d+"px"),k=this.kt("expand"),this.Pb(),l=c.get(0),k=a.W.Mn(l,"expand",k),k.then(function(){h.dva(c,f)}),this.Lb()):(this.Ll()?(c.children().each(function(){d+=g(this).outerHeight(!0)}),c.css("maxHeight",d+"px"),this.m3(c,d)):c.css("maxHeight",""),this.WN(c),f(null));return e},
dva:function(a,b){this.Ll()||a.css("maxHeight","");this.WN(a);b(null);this.Lb()},WN:function(a){a.removeClass(this.rw()).addClass(this.Wz())},Tda:function(a,b,d){var e=this.Ne(a);null!=e&&this.Ar(g(e),null,!1,a,b,d)},po:function(a){var b=this.ym(a.target);null!=b&&0<b.length&&this.Ar(b,a,!0,null,!0,!0)},Ar:function(a,b,d,e,f,g){var k,l=this;this.$g(a)==this.Dm&&(null==e&&(e=this.tg(a[0])),k={item:a,key:e},e=!this.pk("beforeCollapse",b,k),e&&f||(this.Pb(),e=this.TN(a,d,b),this.tu(a,this.Cm),d=this.vn(),
f=this.Pq(),a.find("."+f).first().removeClass(f).addClass(d),this.uA=null,null!=b&&b.stopPropagation(),g&&e.then(function(){l.pk("collapse",b,k)}),this.Lb()))},TN:function(c,b){var d=0,e,f,h,k=this,l,m;f=new Promise(function(a){h=a});e=c.children("ul").first();b?(this.Pb(),e.children().each(function(){d+=g(this).outerHeight()}),e.css("maxHeight",d+"px"),l=this.kt("collapse"),l.persist="all",this.Pb(),m=e.get(0),l=a.W.Mn(m,"collapse",l),l.then(function(){k.Kua(e,h)}),this.Lb()):(e.css("maxHeight",
"0px"),this.UN(e),h(null));return f},Kua:function(a,b){this.UN(a);b(null);this.Lb()},UN:function(a){a.removeClass(this.Wz()).addClass(this.rw());null!=this.rf&&this.rf.dx(a)},Kpa:function(){var a;this.Pb();a=this;this.VC().each(function(){a.Ar(g(this),null,!1,null,!1,!1)});this.Lb()},getExpanded:function(){var a,b,d;a=[];b=this;this.VC().each(function(){d=g(this);b.$g(d)==b.Dm&&a.push(b.tg(d[0]))});return a},Kf:function(){return a.Components.Kf(this.element)},C_:function(){return this.Ll()?"oj-listview oj-listview-container-touch":
"oj-listview oj-listview-container"},lO:function(){return"oj-listview-element"},Xi:function(){return"oj-listview-item"},gp:function(){return"oj-listview-focused-element"},uh:function(){return"oj-listview-item-element"},lg:function(){return"oj-listview-group-item"},oi:function(){return"oj-listview-group"},Wz:function(){return"oj-listview-collapsible-transition"},rw:function(){return this.Wz()},vn:function(){return"oj-listview-collapse-icon"},Pq:function(){return"oj-listview-expand-icon"},DLa:function(){return"oj-listview-no-data-message"},
VX:function(){return""},ELa:function(){return"oj-listview-option-defaults"},Haa:function(){var a=this;this.Y._off(this.Ve(),"scroll");this.N9()&&this.Y._on(this.Ve(),{scroll:function(){a.E8()}})},N9:function(){return"static"!=this.me("groupHeaderPosition")},RC:function(){var a;null==this.ZY&&(a="."+this.lg()+":visible",this.ZY=this.element.find(a).filter(function(){return!g(this).parent().hasClass("oj-collapsed")&&0<g(this).next().children().length?!0:!1}));return this.ZY},MW:function(a){a.style.position=
"static";a.style.top="auto";a.style.width="auto"},r7:function(a){var b;b=this.RC();a=b.index(a);return-1<a&&a<b.length-1?b[a+1]:null},uza:function(a,b){var d,e,f;d=a.offsetWidth;e=a.offsetHeight;f=this.r7(a);null!=f&&f.offsetTop<=b+e+5&&(b-=e);a.style.position="absolute";a.style.top=b+"px";a.style.width=d+"px"},E8:function(){var a,b,d,e,f,g,k,l;a=this.Ve().get(0).scrollTop;if(null!=this.Rg&&0==a)this.MW(this.Rg),this.Rg=null;else{d=this.RC();e=0;null!=this.Rg&&(e=this.Rg.offsetHeight);for(f=0;f<d.length;f++)if(g=
d[f],this.Rg!=g&&(k=d[f].offsetTop,l=k+g.parentNode.offsetHeight,k<a&&l>a+e)){b=g;break}null!=b&&b!=this.Rg?(null!=this.Rg&&this.MW(this.Rg),this.uza(b,a),this.Rg=b):null!=this.Rg&&(b=this.r7(this.Rg),this.Rg.style.top=null!=b&&b.offsetTop<=a+e?b.offsetTop-e+"px":a+"px")}},eT:function(){var a;a=this.me("scrollPolicyOptions");return null!=a&&(a=a.scroller,null!=a)?a:this.Ve().get(0)},xba:function(a){var b,d;b=this.eT();d=b.scrollTop;null!=this.Rg&&(this.MW(this.Rg),this.Rg=null);b.scrollTop=a.offsetTop;
this.N9()&&d==b.scrollTop&&this.E8();this.XBa(a)},XBa:function(a){var b=this,d;g(a).next().children().each(function(){d=g(this);if(!b.ok(d))return b.mk("currentItem",this.key),!1})}});o_("_ojListView",a.$U,a);a.Na("oj.ojListView",g.oj.baseComponent,{widgetEventPrefix:"oj",options:{currentItem:null,data:null,dnd:{drag:null,drop:null,reorder:{items:"disabled"}},drillMode:"collapsible",expanded:"auto",groupHeaderPosition:"sticky",item:{focusable:!0,renderer:null,selectable:!0},scrollPolicy:"auto",scrollPolicyOptions:{fetchSize:25,
maxCount:500},selection:[],selectionMode:"none",animateStart:null,animateEnd:null,beforeCurrentItem:null,beforeExpand:null,beforeCollapse:null,collapse:null,copy:null,cut:null,expand:null,optionChange:null,paste:null,ready:null,reorder:null},_ComponentCreate:function(){this._super();this.ab()},ab:function(){var c={};c.element=this.element;c.oe=this.oe;c.Y=this;c=g.extend(this.options,c);this.Ga=new a.$U;this.Ga.Wq(c)},Lh:function(){this._super();this.Ga.Fz()},_destroy:function(){this.Ga.destroy();
this._super()},jh:function(a,b,d){this.Ga.vha(a,b,d)},_setOptions:function(a,b){var d=this.Ga.Uw(a,b);this._super(a,b);d&&(this.Ga.refresh(),this.j6())},_setOption:function(a,b,d){var e=!0;"selectionMode"==a?e="none"==b||"single"==b||"multiple"==b:"drillMode"==a?e="collapsible"==b||"none"==b:"scrollPolicy"==a?e="auto"==b||"loadMoreOnScroll"==b:"groupHeaderPosition"==a&&(e="static"==b||"sticky"==b);if(e)"selection"==a&&(d={_context:{Qk:{items:g(this.Ga.fGa(b))}}}),this._super(a,b,d);else throw"Invalid value: "+
b+" for key: "+a;},uj:function(){this.Ga.wha()},Rp:function(){this.Ga.BA()},widget:function(){return this.Ga.Wk()},refresh:function(){this._super();this.Ga.refresh();this.j6()},whenReady:function(){return this.Ga.whenReady()},getNodeBySubId:function(a){return this.Ga.getNodeBySubId(a)},getSubIdByNode:function(a){return this.Ga.getSubIdByNode(a)},getContextByNode:function(a){return this.Ga.getContextByNode(a)},getDataForVisibleItem:function(a){return this.Ga.getDataForVisibleItem(a)},expand:function(a,
b){this.Ga.DX(a,b,!0,!0)},collapse:function(a,b){this.Ga.Tda(a,b,!0)},getExpanded:function(){return this.Ga.getExpanded()},getIndexerModel:function(){null==this.iF&&a.Gi&&(this.iF=new a.Gi(this.Ga));return this.iF},j6:function(){null!=this.iF&&this.iF.Aea&&this.iF.Aea()}});a.Components.Va("ojListView","baseComponent",{properties:{currentItem:{type:"Object"},data:{},dnd:{},drillMode:{type:"string"},expanded:{type:"Array\x3cObject\x3e|string"},groupHeaderPosition:{},item:{},scrollPolicy:{type:"string"},
scrollPolicyOptions:{type:"Object\x3cstring, number\x3e"},selection:{type:"Array\x3cObject\x3e"},selectionMode:{type:"string"}},methods:{collapse:{},expand:{},getContextByNode:{},getDataForVisibleItem:{},getExpanded:{},getIndexerModel:{},getNodeBySubId:{},getSubIdByNode:{},refresh:{},whenReady:{},widget:{}},extension:{_hasWrapper:!0,_innerElement:"ul",_widgetName:"ojListView"}});a.Components.register("oj-list-view",a.Components.getMetadata("ojListView"))});