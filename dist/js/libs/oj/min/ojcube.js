/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","jquery","promise","ojs/ojdatasource-common"],function(b,f){b.Va=function(a,b){this.Init();this.qa=a;this.dh=b;this.Jr()};o_("Cube",b.Va,b);b.b.ga(b.Va,b.b,"oj.Cube");b.Va.prototype.Init=function(){b.Va.q.Init.call(this)};b.Va.prototype.im=function(){var a=this.tW(),b=[];Array.prototype.push.apply(b,a?a.im():this.uf);for(a=2;a<this.uf.length;a++)b.push(this.uf[a]);return b};b.b.g("Cube.prototype.getAxes",{im:b.Va.prototype.im});b.Va.prototype.kJ=function(){return this.uf};b.Va.prototype.qm=
function(a){var b=this.tW();a=b.gia(a);for(a=b=b.o1(a,0,[]);Array.isArray(a)&&1===a.length;)if(a=a[0],!Array.isArray(a))return a;return b};b.b.g("Cube.prototype.getValues",{qm:b.Va.prototype.qm});b.Va.prototype.setPage=function(a){this.RK=a instanceof Array?a:[a]};b.Va.prototype.D4=function(a,d,c,e,f){var h=this.dh,k=this.qV(a);if(!k)return!1;a=null;c<h.length?a=this.qV(c):(a={axis:c,levels:[]},h.push(a));c=k.levels;h=a.levels;a=d<c.length?c[d]:null;if(!a)return!1;e>=h.length?(h.push(a),c.splice(d,
1)):f===b.Va.zF.SWAP?(c[d]=h[e],h[e]=a):(f===b.Va.zF.AFTER&&e++,h.splice(e,0,a),h===c&&e<d&&d++,c.splice(d,1));this.Jr();return!0};b.b.g("Cube.prototype.pivot",{D4:b.Va.prototype.D4});b.Va.prototype.qV=function(a){for(var b=0;b<this.dh.length;b++)if(this.dh[b].axis===a)return this.dh[b];return null};b.Va.prototype.T2=function(){return this.dh};b.b.g("Cube.prototype.getLayout",{T2:b.Va.prototype.T2});b.Va.zF={BEFORE:"before",AFTER:"after",SWAP:"swap"};o_("Cube.PivotType",b.Va.zF,b);b.Va.prototype.o1=
function(a,b,c){var e=[];if(0===a.length)return b=c.slice(0),this.pq(b);var f=a.slice(1),h=a[0].start;a=a[0].count;for(c[b]=h;c[b]<h+a;c[b]++)e.push(this.o1(f,b+1,c));return e};b.Va.prototype.gia=function(a){var b=[];if(!a)return b;for(var c=Math.min(a.length,this.uf.length),e=0;e<c;e++){var f=a[e];f instanceof Object&&(f.hasOwnProperty("start")||f.hasOwnProperty("count"))?f.hasOwnProperty("start")?f.hasOwnProperty("count")?b.push(this.rB(f.start,f.count,e)):b.push(this.rB(f.start,1,e)):b.push(this.rB(0,
f.count,e)):b.push(this.rB(f,1,e))}return b};b.Va.prototype.rB=function(a,b,c){c=this.im()[c].Ub();if(a>=c||0>a)a=0;b=Math.min(b,c-a);return{start:a,index:a,count:b}};b.Va.prototype.pq=function(a){var d=this.Raa(a);return d&&(d=d.np(),0<d.length&&(d=this.i[d[0].key]))?new b.Vf(d.value,a,d.ID,d.rows,d.bp):new b.Vf(null,a,void 0,[])};b.Va.prototype.j6=function(){var a=this.Yda();this.RK=[];for(var b=0;b<a.length;b++)this.bq(a[b].axis,a[b].levels),this.RK.push({axis:a[b].axis,index:0});if(0===a.length)for(a=
this.kJ(),b=0;b<a.length;b++)this.bq(a[b].axis,a[b].levels)};b.Va.prototype.Yda=function(){for(var a=[],b=0;b<this.dh.length;b++)1<this.dh[b].axis&&a.push(this.dh[b]);return a};b.Va.prototype.kJ=function(){for(var a=[],b=0;b<this.dh.length;b++)2>this.dh[b].axis&&a.push(this.dh[b]);return a};b.Va.prototype.Jr=function(){this.uf=[];this.i=[];this.$H=[];this.j6();if(null!==this.qa)for(var a=0;a<this.qa.length;a++){for(var d=new b.Ri,c=2;c<this.uf.length;c++)d=this.uf[c].dQ(this.qa[a],d);for(var d=d.np(),
e=0;e<d.length;e++){var c=d[e].key,f=this.$H[c];f||(f=this.$H[c]=this.fF(this.kJ()));for(var h=new b.Ri,k=f.uf.length,c=0;c<k;c++)h=f.uf[c].dQ(this.qa[a],h);h=c=h.np();if(void 0!==d[e].e2)for(h=[],k=0;k<c.length;k++)h.push(d[e]);f.vla(c,h,this.qa[a])}}};b.Va.prototype.vla=function(a,b,c){for(var e=0;e<a.length;e++)this.i[a[e].key]=this.h$(b[e],this.i[a[e].key],c)};b.Va.prototype.tW=function(){return this.$H[this.yda(this.RK)]};b.Va.prototype.yda=function(a){var d=new b.Ri;if(a&&0<a.length){a.sort(function(a,
b){return a.axis-b.axis});for(var c=this.uf,e=0;e<a.length;e++)d=c[a[e].axis].pz(a[e].index,d)}return d.np()[0].key};b.Va.vY=function(a){return a?void 0!==a.value&&null!==a.value:!1};b.Va.prototype.Cc=function(a,b,c,e,f){c.push(e);e={};for(var h in f)f.hasOwnProperty(h)&&(e[h]=f[h]);e.value=a;e.ID=b;e.rows=c;return e};b.Va.Ee=function(a){return b.Fa.md(a.value)?!1:!isNaN(a.value)};b.Va.prototype.h$=function(a,d,c){var e=this.hF(a.e2),f=e.mu,h=b.Va.vY(d),k=b.Va.vY(a),l=h&&b.Va.Ee(d),m=k&&b.Va.Ee(a);
switch(f){case b.Uf.SUM:return h&&k?l&&m?this.Cc(d.value+a.value,f,d.rows,c,{}):this.Cc(NaN,f,d.rows,c,{}):k&&!h?m?this.Cc(a.value,f,[],c,{}):this.Cc(NaN,f,[],c,{}):d;case b.Uf.AVERAGE:return h&&k?l&&m?this.Cc((d.Tu+a.value)/(d.rows.length+1),f,d.rows,c,{Tu:d.Tu+a.value}):this.Cc(NaN,f,d.rows,c,{Tu:d.Tu}):k&&!h?m?this.Cc(a.value,f,[],c,{Tu:a.value}):this.Cc(NaN,f,[],c,{Tu:NaN}):d;case b.Uf.VARIANCE:case b.Uf.STDDEV:return h&&k?l&&m?(h=d.value+(a.value-d.value)/(d.rows.length+1),this.Cc(h,f,d.rows,
c,{bp:d.bp+(a.value-d.value)*(a.value-h)})):this.Cc(NaN,f,d.rows,c,{bp:NaN}):k&&!h?m?this.Cc(a.value,f,[],c,{bp:0}):this.Cc(NaN,f,[],c,{bp:NaN}):d;case b.Uf.NONE:return this.Cc(null,f,h?d.rows:[],c,{});case b.Uf.FIRST:return h?this.Cc(d.value,f,d.rows,c,{}):k?this.Cc(a.value,f,[],c,{}):d;case b.Uf.MIN:return h&&k?l&&m?this.Cc(Math.min(d.value,a.value),f,d.rows,c,{}):this.Cc(NaN,f,d.rows,c,{}):k&&!h?m?this.Cc(a.value,f,[],c,{}):this.Cc(NaN,f,[],c,{}):d;case b.Uf.MAX:return h&&k?l&&m?this.Cc(Math.max(d.value,
a.value),f,d.rows,c,{}):this.Cc(NaN,f,d.rows,c,{}):k&&!h?m?this.Cc(a.value,f,[],c,{}):this.Cc(NaN,f,[],c,{}):d;case b.Uf.COUNT:return h&&k?this.Cc(d.value+1,f,d.rows,c,{}):k&&!h?this.Cc(1,f,[],c,{}):d;case b.Uf.CUSTOM:return a=e.Cb.call(this,h?d.value:void 0,k?a.value:void 0),this.Cc(a,f,h?d.rows:[],c,{})}};b.Va.prototype.bq=function(a,d){a>=this.uf.length&&Array.prototype.push.apply(this.uf,Array(a-this.uf.length+1));this.uf[a]||(this.uf[a]=new b.af(d,a,this));return this.uf[a]};b.Va.prototype.Raa=
function(a){for(var d=this.im(),c=new b.Ri,e=0;e<a.length;e++)c=d[e].pz(a[e],c);return c};b.Va.prototype.Xr=function(){b.l.Yb()};b.Va.prototype.fF=function(){b.l.Yb()};b.Va.prototype.gF=function(){b.l.Yb()};b.Va.prototype.hF=function(){b.l.Yb();return{}};b.Uf={SUM:"sum",AVERAGE:"avg",STDDEV:"stddev",VARIANCE:"variance",NONE:"none",FIRST:"first",MIN:"min",MAX:"max",COUNT:"count",CUSTOM:"custom"};o_("CubeAggType",b.Uf,b);b.ac=function(a,b,c,e){this.Init();this.xd=[];this.Gq=e;this.Cba=c;this.i={};this.i.value=
a;this.i.label=b};o_("CubeAxisValue",b.ac,b);b.b.ga(b.ac,b.b,"oj.CubeAxisValue");b.ac.prototype.Init=function(){b.ac.q.Init.call(this)};b.ac.prototype.gr=function(){return this.Cba};b.b.g("CubeAxisValue.prototype.getLevel",{gr:b.ac.prototype.gr});b.ac.prototype.ke=function(){return 1};b.b.g("CubeAxisValue.prototype.getDepth",{ke:b.ac.prototype.ke});b.ac.prototype.V2=function(){for(var a=[],b=this.Gq;b&&b.Gq;)a.unshift(b),b=b.Gq;return a};b.b.g("CubeAxisValue.prototype.getParents",{V2:b.ac.prototype.V2});
b.ac.prototype.getChildren=function(){return this.xd};b.b.g("CubeAxisValue.prototype.getChildren",{getChildren:b.ac.prototype.getChildren});b.ac.prototype.Ub=function(){if(-1<this.Zs)return this.Zs;if(this.xd&&0!==this.xd.length)for(var a=this.Zs=0;a<this.getChildren().length;a++)this.Zs+=this.getChildren()[a].Ub();else this.Zs=1;return this.Zs};b.b.g("CubeAxisValue.prototype.getExtent",{Ub:b.ac.prototype.Ub});b.ac.prototype.ta=function(){if(-1<this.Kh)return this.Kh;if(!this.Gq)return 0;for(var a=
this.Gq.ta(),b=this.Gq.wW(this);b;)a+=b.Ub(),b=this.Gq.wW(b);return this.Kh=a};b.b.g("CubeAxisValue.prototype.getStart",{ta:b.ac.prototype.ta});b.ac.prototype.Kc=function(){return this.i.value};b.b.g("CubeAxisValue.prototype.getValue",{Kc:b.ac.prototype.Kc});b.ac.prototype.EN=function(){return this.i.label?this.i.label:this.Kc()};b.b.g("CubeAxisValue.prototype.getLabel",{EN:b.ac.prototype.EN});b.ac.prototype.k6=function(a){var b=this.Yca();if(null===b)return null;if(b.Fu())return this.hda(a);if(a=
a[b.attribute])for(b=0;b<this.xd.length;b++)if(this.xd[b].Kc()===a)return this.xd[b];return null};b.ac.prototype.hda=function(a){for(var b=0;b<this.xd.length;b++){var c=this.xd[b].Kc();if(a.hasOwnProperty(c)&&a[c]===c)return this.xd[b]}return null};b.ac.prototype.Yca=function(){return this.xd&&0<this.xd.length?this.xd[0].gr():null};b.ac.prototype.l6=function(a){return this.zI(a,0,this.xd.length-1)};b.ac.prototype.zI=function(a,b,c){if(b>c)return null;var e=Math.floor((b+c)/2),f=this.xd[e],h=f.ta();
return h>a?this.zI(a,b,e-1):h+f.Ub()-1<a?this.zI(a,e+1,c):f};b.ac.prototype.VE=function(a,d,c){for(var e=0;e<this.xd.length;e++)if(this.xd[e].Kc()===a)return this.xd[e];a=new b.ac(a,d,c,this);this.xd.push(a);return a};b.ac.prototype.m6=function(){var a={};a[this.gr().attribute]=this.Kc();return a};b.ac.prototype.wW=function(a){for(var b=0;b<this.xd.length;b++)if(this.xd[b]===a){if(0<b)return this.xd[b-1];break}return null};b.af=function(a,d,c){this.Init();this.axis=d;this.EY=[];for(d=0;d<a.length;d++)this.EY.push(c.gF(a[d],
this));this.qw=c;this.wo=new b.ac(null,null,null,null)};o_("CubeAxis",b.af,b);b.b.ga(b.af,b.b,"oj.CubeAxis");b.af.prototype.Init=function(){b.af.q.Init.call(this)};b.af.prototype.Qk=function(){return this.EY};b.b.g("CubeAxis.prototype.getLevels",{Qk:b.af.prototype.Qk});b.af.prototype.Ub=function(){return this.wo.Ub()};b.b.g("CubeAxis.prototype.getExtent",{Ub:b.af.prototype.Ub});b.af.prototype.qm=function(a){for(var b=[],c=this.wo;c;)(c=c.l6(a))&&b.push(c);return b};b.b.g("CubeAxis.prototype.getValues",
{qm:b.af.prototype.qm});b.af.prototype.Hi=function(a){a=a?JSON.parse(a):{};for(var b=this.wo,c=null;b;)c=b,b=b.k6(a);return c?c.ta():-1};b.b.g("CubeAxis.prototype.getIndex",{Hi:b.af.prototype.Hi});b.af.prototype.pz=function(a,b){return this.MP(a,this.Qk().length-1,b)};b.af.prototype.MP=function(a,b,c){a=this.qm(a);b=this.Qk()[b];for(var e=0;e<a.length;e++){var f=a[e];f.gr().Fu()?c.UE(f.Kc()):c.IF(f);if(f.gr()===b)break}return c};b.af.prototype.dQ=function(a,b){return this.qw.Xr(this,0,this.wo,a,b,
!0)};b.Vf=function(a,b,c,e,f){this.Init();this.i={};this.i.value=a;this.i.Joa=b;this.i.ID=c;this.i.rows=e;this.i.bp=f};o_("CubeDataValue",b.Vf,b);b.b.ga(b.Vf,b.b,"oj.CubeDataValue");b.Vf.prototype.Init=function(){b.Vf.q.Init.call(this)};b.Vf.prototype.Kc=function(){switch(this.i.ID){case b.Uf.STDDEV:return Math.sqrt(this.ZW());case b.Uf.VARIANCE:return this.ZW();default:return this.i.value}};b.b.g("CubeDataValue.prototype.getValue",{Kc:b.Vf.prototype.Kc});b.Vf.prototype.R2=function(){return this.i.Joa};
b.b.g("CubeDataValue.prototype.getIndices",{R2:b.Vf.prototype.R2});b.Vf.prototype.Z2=function(){return this.i.rows};b.b.g("CubeDataValue.prototype.getRows",{Z2:b.Vf.prototype.Z2});b.Vf.prototype.w2=function(){return this.i.ID};b.b.g("CubeDataValue.prototype.getAggregation",{w2:b.Vf.prototype.w2});b.Vf.prototype.ZW=function(){if(isNaN(this.i.bp))return NaN;var a=this.i.rows.length;return 1<a?this.i.bp/(a-1):0};b.Qi=function(a,d){var c=d.row?d.row.start:0,e=d.row?d.row.count:0,f=d.column?d.column.start:
0,h=d.column?d.column.count:0;b.l.cm(c,null);b.l.cm(e,null);b.l.cm(f,null);b.l.cm(h,null);this.qw=a;this.$L={row:c,column:f};this.wo=this.qw.qm([{start:f,count:h},{start:c,count:e}]);h=this.wo.length;0<h&&(e=this.wo[0].length);this.Naa={row:e,column:h}};o_("CubeCellSet",b.Qi,b);b.Qi.prototype.getData=function(a){return(a=this.wo[a.column-this.$L.column][a.row-this.$L.row])?a.Kc():null};b.b.g("CubeCellSet.prototype.getData",{getData:b.Qi.prototype.getData});b.Qi.prototype.getMetadata=function(a){var b=
{keys:{}};b.keys.row=this.DV(a,"row",2);b.keys.column=this.DV(a,"column",1);return b};b.b.g("CubeCellSet.prototype.getMetadata",{getMetadata:b.Qi.prototype.getMetadata});b.Qi.prototype.DV=function(a,d,c){var e=this.qw.im();return void 0!==a[d]&&e.length>=c?(c=new b.Ri,c=e[b.Hb.dU(d)].pz(a[d],c),c.np()[0].key):null};b.Qi.prototype.ta=function(a){return this.$L[a]};b.b.g("CubeCellSet.prototype.getStart",{ta:b.Qi.prototype.ta});b.Qi.prototype.R=function(a){return this.Naa[a]};b.b.g("CubeCellSet.prototype.getCount",
{R:b.Qi.prototype.R});b.Xf=function(a,d,c){this.Init();this.Fn=c;this.fH();b.Xf.q.constructor.call(this,a,d)};o_("DataValueAttributeCube",b.Xf,b);b.b.ga(b.Xf,b.Va,"oj.DataValueAttributeCube");b.Xf.prototype.qa=null;b.Xf.prototype.Init=function(){b.Xf.q.Init.call(this)};b.Xf.prototype.Jr=function(){b.Xf.q.Jr.call(this)};b.Xf.prototype.hF=function(a){return this.Rs[a]};b.Xf.prototype.gF=function(a,d){return a.dataValue?new b.Kg(null,d,!0):new b.Kg(a.attribute,d,!1)};b.Xf.prototype.fF=function(a){return new b.Xf(null,
a,this.Fn)};b.Xf.prototype.Xr=function(a,b,c,e,f,h){if(b>=a.Qk().length)return f;var k=a.Qk()[b];if(k.Fu())return this.Kia(a,c,e,b,f);c=c.VE(e[k.attribute],null,k);h&&f.IF(c);return this.Xr(a,b+1,c,e,f,h)};b.Xf.prototype.Kia=function(a,b,c,e,f){for(var h=!0,k=0;k<this.Fn.length;k++){var l=this.Fn[k].attribute,m=this.Fn[k].label;c.hasOwnProperty(l)&&(m=b.VE(l,m,a.Qk()[e]),f.UE(l,c[l]),this.Xr(a,e+1,m,c,f,h),h=!1)}return f};b.Xf.prototype.fH=function(){this.Rs=[];for(var a=0;a<this.Fn.length;a++){var d=
this.Fn[a];this.Rs[d.attribute]=d.aggregation?{mu:d.aggregation,Cb:d.callback}:{mu:b.Uf.SUM,Cb:d.callback}}};b.Ri=function(){this.wK=[];this.i=[]};b.Ri.prototype.IF=function(a){this.wK.push(a)};b.Ri.prototype.UE=function(a,b){this.i.push({name:a,value:b})};b.Ri.prototype.np=function(){var a=[],b=this.M$();if(0===this.i.length)a.push({key:JSON.stringify(b)});else for(var c=0;c<this.i.length;c++){var e=f.extend(!0,{},b);e[this.i[c].name]=this.i[c].name;a.push({key:JSON.stringify(e),e2:this.i[c].name,
value:this.i[c].value})}return a};b.Ri.prototype.M$=function(){for(var a={},b=0;b<this.wK.length;b++){var c=this.wK[b].m6(),e;for(e in c)c.hasOwnProperty(e)&&(a[e]=c[e])}return a};b.Me=function(a,b,c,e){this.qw=b;this.aw=a;this.Kh=void 0===c?0:c;this.Maa=void 0===e?this.aw.Ub():Math.min(e,this.aw.Ub()-c);this.eV=c+e-1};o_("CubeHeaderSet",b.Me,b);b.Me.prototype.getData=function(a,b){var c=this.pq(a,b);return c?c.EN():null};b.b.g("CubeHeaderSet.prototype.getData",{getData:b.Me.prototype.getData});b.Me.prototype.getMetadata=
function(a,d){var c=new b.Ri,c=this.aw.MP(a,d,c);return(c=c.np())&&0<c.length?{key:c[0].key}:null};b.b.g("CubeHeaderSet.prototype.getMetadata",{getMetadata:b.Me.prototype.getMetadata});b.Me.prototype.vg=function(){return this.aw.Qk().length};b.b.g("CubeHeaderSet.prototype.getLevelCount",{vg:b.Me.prototype.vg});b.Me.prototype.Ub=function(a,b){var c=this.pq(a,b),e=c.Ub(),c=c.ta(),f=c+e-1,h=a<c+e-1;c<this.Kh&&(e-=this.Kh-c);f>this.eV&&(e-=f-this.eV);return{extent:e,more:{before:a>c,after:h}}};b.b.g("CubeHeaderSet.prototype.getExtent",
{Ub:b.Me.prototype.Ub});b.Me.prototype.ke=function(a,b){return this.pq(a,b).ke()};b.b.g("CubeHeaderSet.prototype.getDepth",{ke:b.Me.prototype.ke});b.Me.prototype.R=function(){return this.Maa};b.b.g("CubeHeaderSet.prototype.getCount",{R:b.Me.prototype.R});b.Me.prototype.ta=function(){return this.Kh};b.b.g("CubeHeaderSet.prototype.getStart",{ta:b.Me.prototype.ta});b.Me.prototype.pq=function(a,b){void 0===b&&(b=0);var c=this.aw.qm(a);return c&&c.length>b?c[b]:null};b.Hb=function(a){b.Hb.q.constructor.call(this,
a)};o_("CubeDataGridDataSource",b.Hb,b);b.b.ga(b.Hb,b.Rm,"oj.CubeDataGridDataSource");b.Hb.prototype.Y4=function(a){this.data=a;this.uV()};b.b.g("CubeDataGridDataSource.prototype.setCube",{Y4:b.Hb.prototype.Y4});b.Hb.prototype.setPage=function(a){this.data.setPage(a);this.uV()};b.b.g("CubeDataGridDataSource.prototype.setPage",{setPage:b.Hb.prototype.setPage});b.Hb.prototype.uV=function(){this.handleEvent("change",{source:this,operation:"refresh"})};b.Hb.prototype.R=function(a){return(a=this.bq(a))?
a.Ub():0};b.b.g("CubeDataGridDataSource.prototype.getCount",{R:b.Hb.prototype.R});b.Hb.prototype.ug=function(){return"exact"};b.b.g("CubeDataGridDataSource.prototype.getCountPrecision",{ug:b.Hb.prototype.ug});b.Hb.prototype.If=function(a,d,c){var e=new b.Me(this.bq(a.axis),this.data,a.start,a.count);d.success.call(c?c.success:void 0,e,a)};b.b.g("CubeDataGridDataSource.prototype.fetchHeaders",{If:b.Hb.prototype.If});b.Hb.prototype.tg=function(a,d,c){for(var e={},f=0;f<a.length;f++){var h=void 0===
a[f].start?0:a[f].start;if("row"===a[f].axis){var k=void 0===a[f].count?this.data.im()[1].Ub():a[f].count;e.row={start:h,count:k}}"column"===a[f].axis&&(k=void 0===a[f].count?this.data.im()[0].Ub():a[f].count,e.column={start:h,count:k})}e=new b.Qi(this.data,e);d.success.call(c?c.success:void 0,e,a)};b.b.g("CubeDataGridDataSource.prototype.fetchCells",{tg:b.Hb.prototype.tg});b.Hb.prototype.keys=function(a){var b={},b=this.Mn(a,"row",b),b=this.Mn(a,"column",b);return Promise.resolve(b)};b.b.g("CubeDataGridDataSource.prototype.keys",
{keys:b.Hb.prototype.keys});b.Hb.prototype.Mn=function(a,d,c){var e=this.bq(d);a=a[d];var f=new b.Ri,f=e?e.pz(a,f):"";c[d]=f.np()[0].key;return c};b.Hb.prototype.yg=function(a){var b={},b=this.Zg(a,"row",b),b=this.Zg(a,"column",b);return Promise.resolve(b)};b.b.g("CubeDataGridDataSource.prototype.indexes",{yg:b.Hb.prototype.yg});b.Hb.prototype.Zg=function(a,b,c){c[b]=this.bq(b).Hi(a[b]);return c};b.Hb.prototype.sort=function(){b.l.Yb()};b.b.g("CubeDataGridDataSource.prototype.sort",{sort:b.Hb.prototype.sort});
b.Hb.prototype.move=function(){b.l.Yb()};b.b.g("CubeDataGridDataSource.prototype.move",{move:b.Hb.prototype.move});b.Hb.prototype.od=function(){return"invalid"};b.b.g("CubeDataGridDataSource.prototype.moveOK",{od:b.Hb.prototype.od});b.Hb.prototype.getCapability=function(a){switch(a){case "sort":return"none";case "move":return"none"}return null};b.b.g("CubeDataGridDataSource.prototype.getCapability",{getCapability:b.Hb.prototype.getCapability});b.Hb.dU=function(a){return"row"===a?1:0};b.Hb.prototype.bq=
function(a){a=b.Hb.dU(a);var d=this.data.im();return d.length>a?d[a]:null};b.Wf=function(a,d,c){this.Init();this.Fn=c;this.rma=c.valueAttr;this.mha=c.labelAttr;var e=c.defaultAggregation;this.zU=e?b.Wf.jda(e):{mu:b.Uf.SUM};this.VG=c.aggregation;this.fH();b.Wf.q.constructor.call(this,a,d)};o_("DataColumnCube",b.Wf,b);b.b.ga(b.Wf,b.Va,"oj.DataColumnCube");b.Wf.prototype.Init=function(){b.Wf.q.Init.call(this)};b.Wf.prototype.Jr=function(){b.Wf.q.Jr.call(this)};b.Wf.prototype.hF=function(a){return this.Rs[a]?
this.Rs[a]:this.zU};b.Wf.prototype.fF=function(a){return new b.Wf(null,a,this.Fn)};b.Wf.prototype.gF=function(a,d){return a.attribute===this.mha?new b.Kg(a.attribute,d,!0):new b.Kg(a.attribute,d,!1)};b.Wf.prototype.Xr=function(a,b,c,e,f,h){if(b>=a.Qk().length)return f;var k=a.Qk()[b],l=e[k.attribute];c=c.VE(l,null,k);k.Fu()?f.UE(l,e[this.rma]):f.IF(c);return this.Xr(a,b+1,c,e,f,h)};b.Wf.jda=function(a){return b.Fa.md(a)?{mu:a}:{mu:a.aggregation,Cb:a.callback}};b.Wf.prototype.fH=function(){this.Rs=
[];if(this.VG)for(var a=0;a<this.VG.length;a++){var b=this.VG[a],c=b.aggregation;this.Rs[b.value]=c?{mu:c,Cb:b.callback}:this.zU}};b.Kg=function(a,b,c){this.Init();this.attribute=a;this.gT=b;this.axis=b.axis;this.yU=c};o_("CubeLevel",b.Kg,b);b.b.ga(b.Kg,b.b,"oj.CubeLevel");b.Kg.prototype.Init=function(){b.Kg.q.Init.call(this)};b.Kg.prototype.Kc=function(a){if(a=this.gT.qm(a))for(var b=0;b<a.length;b++)if(a[b].gr()===this)return a[b];return null};b.b.g("CubeLevel.prototype.getValue",{Kc:b.Kg.prototype.Kc});
b.Kg.prototype.Fu=function(){return this.yU};b.b.g("CubeLevel.prototype.isDataValue",{Fu:b.Kg.prototype.Fu});b.Kg.prototype.yU=!1;b.Kg.prototype.gT=null});