/**
 * Copyright (c) 2014, 2016, Oracle and/or its affiliates.
 * The Universal Permissive License (UPL), Version 1.0
 */
"use strict";
define(["ojs/ojcore","knockout","promise","ojs/ojanimation"],function(a,g){a.$={};a.$.b1={coverStart:{jr:"oj-animation-coverstart",zp:"oj-animation-coverstart",Ap:!0},coverUp:{zp:"oj-animation-coverup",Ap:!0},fade:{jr:"oj-animation-fade",zp:"oj-animation-fade",Ap:!1},pushStart:{jr:"oj-animation-revealstart",zp:"oj-animation-coverstart",Ap:!1},pushEnd:{jr:"oj-animation-revealend",zp:"oj-animation-coverend",Ap:!1},revealDown:{jr:"oj-animation-revealdown",Ap:!1},revealEnd:{jr:"oj-animation-revealend",
zp:"oj-animation-revealend",Ap:!1},zoomIn:{zp:"oj-animation-zoomin",Ap:!0},zoomOut:{jr:"oj-animation-zoomout",Ap:!1}};a.$.u3=function(a,b,d){var e=$(a);return new Promise(function(a){function c(){a(!0)}var g="oj-"+d,l=g+"-active";e.addClass(b);e.addClass(g);window.requestAnimationFrame(function(){e.addClass(l)});if((g=e.css("animationDuration")||e.css("webkitAnimationDuration"))&&"0s"!=g)e.on("animationend webkitAnimationEnd",c);else if((g=e.css("transitionDuration")||e.css("webkitTransitionDuration"))&&
"0s"!=g)e.on("transitionend webkitTransitionEnd",c);else a(!0)})};a.$.soa=function(c,b,d){var e=[];d=a.$.b1[d];c&&d&&d.jr&&e.push(a.$.u3(c,d.jr,"leave"));b&&d&&d.zp&&e.push(a.$.u3(b,d.zp,"enter"));return Promise.all(e)};a.$.b3=function(a,b){for(var d=g.virtualElements.firstChild(a);d;)1==d.nodeType?b.push(d):8==d.nodeType&&this.b3(d,b),d=g.virtualElements.nextSibling(d)};a.$.Zoa=function(a,b){a._ojOldRoot=b};a.$.qua=function(a){return a._ojOldRoot};a.$.JR=function(c){if(c.isInitial)return!1;if(1==
c.node.nodeType)return!0;if(8==c.node.nodeType){var b=[];a.$.b3(c.node,b);if(b&&1==b.length)return a.$.Zoa(c,b[0]),!0}return!1};a.$.u7=function(c){var b;1==c.node.nodeType?b=c.node:8==c.node.nodeType&&(b=a.$.qua(c));return b};a.$.gy=function(a){var b=$(document.createElement("div")),d={position:"absolute",height:a.offsetHeight+"px",width:a.offsetWidth+"px",left:a.offsetLeft+"px",top:a.offsetTop+"px"};b.appendTo(a.offsetParent);b.css(d);b.addClass("oj-animation-host-viewport");a=document.createElement("div");
a.className="oj-animation-host";b.append(a);return a};a.$.p5=function(c,b){var d={},e=a.$.b1[b],f=a.$.u7(c);e&&(e.zp&&!e.Ap&&(d.newViewParent=a.$.gy(f)),e.jr&&(d.oldViewParent=a.$.gy(f)),e.zp&&e.Ap&&(d.newViewParent=a.$.gy(f)));return d};a.$.n5=function(c,b){return a.$.soa(c.oldViewParent,c.newViewParent,b).then(function(){a.$.W$(c)})};a.$.Uaa=function(a,b){var d=a[b];d&&(d=d.parentNode)&&d.parentNode&&d.parentNode.removeChild(d)};a.$.W$=function(c){c.removeOldView();c.insertNewView();a.$.Uaa(c,"newViewParent");
a.$.Uaa(c,"oldViewParent")};a.$.jq=function(c){return{canAnimate:a.$.JR,prepareAnimation:function(b){return a.$.p5(b,c)},animate:function(b){return a.$.n5(b,c)}}};a.$.ZS=function(c){null==a.$.XU&&(a.$.XU=a.td.Of("oj-animation-navigate-methods"));return a.$.XU?a.$.XU[c]:null};a.$.Tya=function(c,b){return a.$.ZS(b)&&a.$.JR(c)};a.$.Uya=function(c,b){var d=a.$.ZS(b);return a.$.p5(c,d)};a.$.Sya=function(c,b){var d=a.$.ZS(b);return a.$.n5(c,d)};a.$.dJ=function(c){return{canAnimate:function(b){return a.$.Tya(b,
c)},prepareAnimation:function(b){return a.$.Uya(b,c)},animate:function(b){return a.$.Sya(b,c)}}};a.$.XEa=a.$.jq("coverStart");o_("ModuleAnimations.coverStart",a.$.XEa,a);a.$.lJa=a.$.jq("revealEnd");o_("ModuleAnimations.revealEnd",a.$.lJa,a);a.$.YEa=a.$.jq("coverUp");o_("ModuleAnimations.coverUp",a.$.YEa,a);a.$.kJa=a.$.jq("revealDown");o_("ModuleAnimations.revealDown",a.$.kJa,a);a.$.g_=a.$.jq("zoomIn");o_("ModuleAnimations.zoomIn",a.$.g_,a);a.$.h_=a.$.jq("zoomOut");o_("ModuleAnimations.zoomOut",a.$.h_,
a);a.$.IFa=a.$.jq("fade");o_("ModuleAnimations.fade",a.$.IFa,a);a.$.KIa=a.$.jq("pushStart");o_("ModuleAnimations.pushStart",a.$.KIa,a);a.$.JIa=a.$.jq("pushEnd");o_("ModuleAnimations.pushEnd",a.$.JIa,a);a.$.qha=a.$.dJ("navChild");o_("ModuleAnimations.navChild",a.$.qha,a);a.$.rha=a.$.dJ("navParent");o_("ModuleAnimations.navParent",a.$.rha,a);a.$.BFa=a.$.qha;o_("ModuleAnimations.drillIn",a.$.BFa,a);a.$.CFa=a.$.rha;o_("ModuleAnimations.drillOut",a.$.CFa,a);a.$.sIa=a.$.dJ("navSiblingEarlier");o_("ModuleAnimations.navSiblingEarlier",
a.$.sIa,a);a.$.tIa=a.$.dJ("navSiblingLater");o_("ModuleAnimations.navSiblingLater",a.$.tIa,a);a.$.JJa=function(c){return new function(){function b(a){return function(b){return d[a].call(d,b)}}var d,e=this;this.canAnimate=function(f){var g=c(f);d=null==g?null:a.ModuleAnimations[g];if(!d)return!1;for(var g=["prepareAnimation","animate"],k=0;k<g.length;k++){var l=g[k];e[l]=b(l)}return b("canAnimate")(f)}}};o_("ModuleAnimations.switcher",a.$.JJa,a);a.$.ZEa=function(c,b,d){return{canAnimate:a.$.JR,prepareAnimation:function(e){var f=
{};e=a.$.u7(e);b&&!d&&(f.newViewParent=a.$.gy(e));c&&(f.oldViewParent=a.$.gy(e));b&&d&&(f.newViewParent=a.$.gy(e));return f},animate:function(d){var f=d.oldViewParent,g=d.newViewParent,k=[];f&&c&&k.push(a.W.Mn(f,"close",c));g&&b&&k.push(a.W.Mn(g,"open",b));return Promise.all(k).then(function(){a.$.W$(d)})}}};o_("ModuleAnimations.createAnimation",a.$.ZEa,a)});